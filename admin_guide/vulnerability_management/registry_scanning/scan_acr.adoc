:topic_type: task

[.task]
== Scan images in Azure Container Registry (ACR)

To scan a repository in Azure Container Registry (ACR), create a new registry scan setting.

*Prerequisites:* You have xref:../../install/defender_types.adoc#[installed a Defender] somewhere in your environment.

[.procedure]
. Open Console, and go to *Defend > Vulnerabilities > Registry*. 

. Click *Add registry*.

. In the *Add New Registry Setting Specification* dialog, enter the following values:

.. In the *Version* drop-down list, select *Azure Container Registry*.

.. In the *Registry* field, enter the Fully Qualified Domain Name (FQDN) for the registry’s ACR login server.
+
The format for the FQDN is *<REGISTRY_NAME>.azurecr.io*, where *<REGISTRY_NAME>* is a unique value specified when the registry was created.
Example: *example.azurecr.io*.

.. In the *Repository* field, enter the name of the repository to scan.
Example: *library/alpine*.

.. In the *Tag* field, enter an image tag.
Leave this field blank to scan all images, regardless of their tag.

.. In the *Credential* field, configure how Prisma Cloud authenticates with ACR.
+
Select a credential from the drop-down list.
If there are no credentials in the list, click *Add new*, and xref:../../authentication/credentials_store.adoc#azure[create an Azure credential].

.. In the *OS type* field, specify whether the repo holds *Linux* or *Windows* images. 

.. In *Scanner*, select *Automatic*.
+
Console automatically selects an available Defender to execute the scan job.
Alternatively, you can explicitly select a Defender from the drop-down list.
Defenders are listed according to the hosts where they run.
For more information, see xref:../../vulnerability_management/registry_scanning.adoc#_deployment_patterns[deployment patterns].

.. In *Number of scanners*, enter the number of Defenders across which scan jobs can be distributed.

.. In *Cap*, limit the number of images to scan.
+
Set *Cap* to *5* to scan the five most recent images, or enter a different value to increase or decrease the limit.
Set *Cap* to *0* to scan all images.

.. Click *Add*.

. Click the yellow save button.
+
image::save_button.png[width=50]
+
// ==== Results
//
// Reusable content fragment.
include::frag_results.adoc[leveloffset=0]
